<div class="container">

  <h1 class="mat-elevation-z8">Lista de e-mails enviados</h1>

  <div class="file-buttons">
    <button class="mat-elevation-z8" color="primary" mat-stroked-button routerLink="">Carregar planilha de e-mails
    </button>
    <button class="mat-elevation-z8" color="primary" mat-stroked-button routerLink="">Baixar planilha de e-mails
    </button>
  </div>

  <mat-form-field>
    <mat-label>Filter</mat-label>
    <input #input (keyup)="applyFilter($event)" matInput
           placeholder="Ex.: Fulano de tal, Enviado, Notas de Matemática, 04/12/2023">
  </mat-form-field>

  <div class="mat-elevation-z8 ">

    <table class="mat-elevation-z4" mat-table [dataSource]="dataSource">
      <caption>E-mails carregados através da planilha</caption>

      <ng-container matColumnDef="id">
        <th *matHeaderCellDef mat-header-cell> ID</th>
        <td *matCellDef="let element" mat-cell> {{ element.id }}</td>
      </ng-container>

      <ng-container matColumnDef="sendTo">
        <th *matHeaderCellDef mat-header-cell> Destinatário</th>
        <td *matCellDef="let element" mat-cell> {{ element.sendTo }}</td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th *matHeaderCellDef mat-header-cell> Status</th>
        <td *matCellDef="let element" mat-cell> {{ element.status }}</td>
      </ng-container>

      <ng-container matColumnDef="subject">
        <th *matHeaderCellDef mat-header-cell> Assunto</th>
        <td *matCellDef="let element" mat-cell> {{ element.subject }}</td>
      </ng-container>

      <ng-container matColumnDef="text">
        <th *matHeaderCellDef mat-header-cell> Conteúdo</th>
        <td *matCellDef="let element" mat-cell> {{ element.text }}</td>
      </ng-container>

      <ng-container matColumnDef="sendDate">
        <th *matHeaderCellDef mat-header-cell> Data de envio</th>
        <td *matCellDef="let element" mat-cell> {{ element.sendDate }}</td>
      </ng-container>

      <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
      <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                   showFirstLastButtons
                   aria-label="Select page of periodic elements">
    </mat-paginator>

  </div>

</div>

<modal #showEmailModal>
  <mat-card class="card">
    <mat-card-header>
      <mat-card-title>{{ email?.subject }}</mat-card-title>
      <mat-card-subtitle>De: {{ email?.sendFrom }}</mat-card-subtitle>
      <mat-card-subtitle>Para: {{ email?.sendTo }}</mat-card-subtitle>
    </mat-card-header>
    <mat-divider></mat-divider>
    <mat-card-content>
      <p>{{ email?.text }}</p>
    </mat-card-content>
  </mat-card>
</modal>
